---
title: Пакет создания документации для VS Code
description: В этой статье описывается пакет расширений VS Code, который упрощает использование языка разметки Markdown для написания статей на сайте docs.microsoft.com.
author: meganbradley
ms.author: mbradley
manager: jemash
ms.date: 04/06/2018
ms.prod: non-product-specific
ms.topic: contributor-guide
ms.custom: external-contributor-guide
ms.openlocfilehash: d0d61db2faf88598ecd2c800fb5fbe8df8ec44f5
ms.sourcegitcommit: 7b668124f25b8ad0442937a3ad05b19a47af5970
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/03/2018
---
# <a name="docs-authoring-pack-for-vs-code"></a>Пакет создания документации для VS Code

Пакет создания документации (Docs Authoring Pack) представляет собой набор расширений VS Code, упрощающих использование языка разметки Markdown для написания статей на сайте docs.microsoft.com. Пакет [доступен в VS Code Marketplace](https://marketplace.visualstudio.com/items?itemName=docsmsft.docs-authoring-pack) и содержит следующие расширения.

- **DocFx**. Предоставляет возможность предварительного просмотра разметки Markdown, применяемой для написания статей на сайте docs.microsoft.com. Дополнительные сведения см. в статье [DocFx](https://marketplace.visualstudio.com/items?itemName=ms-docfx.DocFX).
- **markdownlint**. Разработанный Дэвидом Энсоном (David Anson) популярный анализатор Markdown для проверки соблюдения стандартов оформления кода. Дополнительные сведения см. в статье [markdownlint](https://marketplace.visualstudio.com/items?itemName=DavidAnson.vscode-markdownlint).
- **Docs Markdown**. Содержит рекомендации по использованию языка разметки Markdown для создания содержимого на сайте docs.microsoft.com в Open Publishing System (OPS), включая базовую поддержку Markdown и поддержку настраиваемого синтаксиса Markdown в OPS. Далее в этом разделе описывается расширение Docs Markdown.

## <a name="prerequisites-and-assumptions"></a>Предварительные требования и предположения

Чтобы вы могли точно вставлять относительные ссылки, изображения и другое внедренное содержимое с помощью расширения Docs Markdown, ваша рабочая область VS Code должна быть определена в рамках корня клонированного репозитория OPS.

Некоторый поддерживаемый расширением синтаксис, например для оповещений и фрагментов кода, является настраиваемым синтаксисом Markdown для OPS и будет правильно отображаться только после публикации с помощью OPS.

## <a name="how-to-use-the-docs-markdown-extension"></a>Использование расширения Docs Markdown

Чтобы открыть меню Docs Markdown, введите `ALT+M`. Щелкните нужную функцию или выберите ее с помощью стрелок "вверх" и "вниз" либо введите ее имя, чтобы отфильтровать в списке. Затем, когда функция будет выделена в меню, нажмите клавишу `ENTER`. Доступны следующие компоненты.

|Функция     |Команда             |Описание           |
|-------------|--------------------|----------------------|
|Полужирный шрифт         |`formatBold`        |Выделение текста **полужирным шрифтом**.|
|Курсив       |`formatItalic`      |Выделение текста *курсивом*.|
|Код         |`formatCode`        |Если выбрана одна строка или меньше, текст форматируется как `inline code`.<br><br>Если выбрано несколько строк, текст форматируется как огражденный блок кода. Кроме того, при необходимости можно выбрать язык программирования, поддерживаемый OPS.|
|Оповещение        |`insertAlert`       |Вставка таких элементов, как "Примечание", "Важно!", "Предупреждение" или "Совет".<br><br>В меню выберите пункт "Оповещение", а затем выберите тип оповещения. Если текст был выбран ранее, он будет заключен в синтаксис выбранного оповещения. Если текст не выбран, будет добавлено новое оповещение с замещающим текстом.|
|Нумерованный список|`insertNumberedList` |Вставка нового нумерованного списка.<br><br> Если выбрано несколько строк, каждая из них будет элементом списка. Обратите внимание, что все пункты нумерованных списков отображаются в Markdown под номером 1, но на сайте docs.microsoft.com им будут назначены порядковые номера (или буквы для вложенных списков). Чтобы создать вложенный нумерованный список, вставляйте в родительский список символы табуляции.|
|Маркированный список|`insertBulletedList` |Вставка нового маркированного списка.|
|Таблица        |`insertTable`        |Вставка структуры таблицы Markdown.<br><br>Выбрав команду для таблицы, укажите количество столбцов и строк в формате "столбцы:строки", например "3:4". Обратите внимание, что с помощью этого расширения можно указать не более пяти столбцов. Это рекомендуемое максимальное значение для удобочитаемости.|
|Ссылка         |`selectLinkType`      |Вставка ссылки. При выборе этой команды открывается следующее подменю.<br><br>`External`: ссылка на веб-станицу по URI. Должна содержать "http" или "https".<br>`Internal`: вставка относительной ссылки на другой файл в том же репозитории. После выбора этой команды начните вводить имя файла в окне командной строки, чтобы отфильтровать файлы и выбрать нужный. <br>`Bookmark in this file`: в списке заголовков в текущем файле выберите должным образом отформатированную закладку для вставки.<br>`Bookmark in another file`: сначала выполните фильтрацию по имени файла и выберите файл, на который должна вести ссылка, а затем выберите соответствующий заголовок в указанном файле.|
|Изображение        |`insertImage`     |Введите альтернативный текст (требуется для специальных функций) и выделите его. Затем вызовите эту команду, чтобы отфильтровать список поддерживаемых файлов изображений в репозитории, и выберите нужный файл. Если при вызове этой команды замещающий текст не был выбран, вам будет предложено сделать это, после чего вы сможете выбрать файл изображения.|
|Включаемый файл      |`insertInclude`   |Внедрение найденного файла в текущий файл.|
|Фрагмент кода      |`insertSnippet`   |Внедрение найденного в репозитории фрагмента кода в текущий файл.|
|Видео        |`insertVideo`     |Добавление внедренного видео.|
|Предварительный просмотр      |`previewTopic`    |Предварительный просмотр активного раздела в открытом рядом окне с помощью расширения DocFX.  Если расширение DocFX не установлено или установлено, но отключено, раздел не отображается.


## <a name="how-to-assign-keyboard-shortcuts"></a>Назначение сочетаний клавиш

1. Введите `CTRL+K`, а затем — `CTRL+S`, чтобы открыть список сочетаний клавиш.
1. Найдите команду, например `formatBold`, для которой нужно создать настраиваемое сочетание клавиш.
1. Нажмите значок "плюс", отображаемый рядом с именем команды при наведении указателя мыши на строку.
1. В появившемся поле введите сочетание клавиш для привязки к этой конкретной команде. Например, чтобы использовать стандартное сочетание клавиш для полужирного начертания, введите `ctrl+b`.
1. Чтобы настраиваемое сочетание клавиш было доступно только в файлах Markdown, в него рекомендуется вставить предложение `when`. Для этого откройте файл *keybindings.json* и под именем команды вставьте следующую строку (не забудьте добавить запятую между строками).
   
    `"when": "editorTextFocus && editorLangId == 'markdown'"`

    Окончательное настраиваемое сочетание клавиш должно иметь следующий вид в keybindings.json.

    ```json
    // Place your key bindings in this file to overwrite the defaults
    [
        {
            "key": "ctrl+b",
            "command": "formatBold",
            "when": "editorTextFocus && editorLangId == 'markdown'"
        }
    ]
    ```

1. Сохраните файл keybindings.json.

Дополнительные сведения см. в статье о [настраиваемых сочетаниях клавиш](https://code.visualstudio.com/docs/getstarted/keybindings) в документации по VS Code.

## <a name="how-to-show-the-legacy-gauntlet-toolbar"></a>Отображение устаревшей панели инструментов "Gauntlet"

Прежние пользователи расширения с кодовым названием "Gauntlet" заметят, что при установленном расширении Docs Markdown панель инструментов разработки больше не отображается в нижней части окна VS Code. Панель занимала много места в строке состояния VS Code и не соответствовала рекомендациям по работе с расширением, поэтому она не поддерживается в новом расширении. Но при необходимости панель инструментов можно открыть, изменив файл settings.json в VS Code следующим образом.

1. В VS Code последовательно выберите "File" (Файл) -> "Preferences" (Настройки) -> "Settings" (Параметры) (`CTRL+Comma`).
1. Выберите "User Settings" (Параметры пользователя), чтобы изменить параметры всех рабочих областей VS Code, или "Workspace Settings" (Параметры рабочей области), чтобы изменить параметры только текущей рабочей области.
1. В области "Default Settings" (Параметры по умолчанию) найдите конфигурацию расширения Docs Authoring и щелкните значок с изображением карандаша рядом с нужным параметром. Затем вам будет предложено выбрать `true` или `false`. После того как вы сделаете выбор, VS Code автоматически добавит значение в файл settings.json и выведет запрос на перезагрузку окна, чтобы внесенные изменения вступили в силу.

## <a name="known-issues"></a>Известные проблемы

- Предварительный просмотр DocFX в MacOS и Linux: функция предварительного просмотра DocFX неправильно запускает режим предварительного просмотра (по умолчанию включается предварительный просмотр Markdown в VS Code для этих платформ).
- Предварительный просмотр DocFX на всех платформах: некоторый синтаксис, например перекрестные ссылки на API, неправильно отображается в режиме предварительного просмотра, поэтому иногда в содержимом появляются пробелы.
- Внешние закладки в Linux: список файлов отображается, но отсутствуют заголовки для выбора.
- Включаемые файлы в Linux: список файлов отображается, но после выбора файла ссылка не добавляется.
